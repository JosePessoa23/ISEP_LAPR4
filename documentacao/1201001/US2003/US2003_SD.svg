<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1486px" preserveAspectRatio="none" style="width:2487px;height:1486px;background:#FFFFFF;" version="1.1" viewBox="0 0 2487 1486" width="2487px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1293.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="72.5" y="92.6094"/><rect fill="#FFFFFF" height="442.8516" style="stroke:#181818;stroke-width:1.0;" width="10" x="979.5" y="114.9609"/><rect fill="#FFFFFF" height="244.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="979.5" y="588.1641"/><rect fill="#FFFFFF" height="531.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="979.5" y="863.3281"/><rect fill="#FFFFFF" height="382.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="1316.5" y="145.3125"/><rect fill="#FFFFFF" height="184.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1316.5" y="618.5156"/><rect fill="#FFFFFF" height="437.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1316.5" y="893.6797"/><rect fill="#FFFFFF" height="106.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1476" y="175.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1757.5" y="648.8672"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1757.5" y="984.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1904.5" y="313"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2055.5" y="924.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2162" y="734.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2162" y="1044.7344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2162" y="1300.7891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2287" y="373.7031"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2421.5" y="459.7578"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2421.5" y="1130.0859"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2421.5" y="1215.4375"/><rect height="79.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1249" x="1232" y="419.0547"/><rect height="79.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="980" x="1232" y="694.2188"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="984" x2="984" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1321" x2="1321" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1481" x2="1481" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1628" x2="1628" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1762" x2="1762" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1909" x2="1909" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2060" x2="2060" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2167" x2="2167" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2292" x2="2292" y1="82.6094" y2="1404.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2426" x2="2426" y1="82.6094" y2="1404.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="5" y="79.5332">Warehouse Employee</text><ellipse cx="77.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M77.5,21.5 L77.5,48.5 M64.5,29.5 L90.5,29.5 M77.5,48.5 L64.5,63.5 M77.5,48.5 L90.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="5" y="1417.6738">Warehouse Employee</text><ellipse cx="77.5" cy="1429.25" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M77.5,1437.25 L77.5,1464.25 M64.5,1445.25 L90.5,1445.25 M77.5,1464.25 L64.5,1479.25 M77.5,1464.25 L90.5,1479.25 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="930" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="937" y="71.5332">:AssignOrderUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="930" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="937" y="1424.6738">:AssignOrderUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="1242" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1249" y="71.5332">:AssignOrderController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="1242" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1249" y="1424.6738">:AssignOrderController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1411" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1418" y="71.5332">:PersistenceContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1411" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1418" y="1424.6738">:PersistenceContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1561" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1568" y="71.5332">:RepositoryFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1561" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1568" y="1424.6738">:RepositoryFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1705" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1712" y="71.5332">:AGVRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1705" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1712" y="1424.6738">:AGVRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="1830" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1837" y="71.5332">:WarehouseRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="1830" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1837" y="1424.6738">:WarehouseRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1999" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="2006" y="71.5332">:OrderRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1999" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="2006" y="1424.6738">:OrderRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="2132" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="2139" y="71.5332">agv:AGV</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="2132" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="2139" y="1424.6738">agv:AGV</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="2212" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="2219" y="71.5332">warehouse:Warehouse</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="2212" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="2219" y="1424.6738">warehouse:Warehouse</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="2382" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="2389" y="71.5332">order:Order</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="2382" y="1403.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="2389" y="1424.6738">order:Order</text><rect fill="#FFFFFF" height="1293.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="72.5" y="92.6094"/><rect fill="#FFFFFF" height="442.8516" style="stroke:#181818;stroke-width:1.0;" width="10" x="979.5" y="114.9609"/><rect fill="#FFFFFF" height="244.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="979.5" y="588.1641"/><rect fill="#FFFFFF" height="531.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="979.5" y="863.3281"/><rect fill="#FFFFFF" height="382.1484" style="stroke:#181818;stroke-width:1.0;" width="10" x="1316.5" y="145.3125"/><rect fill="#FFFFFF" height="184.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1316.5" y="618.5156"/><rect fill="#FFFFFF" height="437.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1316.5" y="893.6797"/><rect fill="#FFFFFF" height="106.9844" style="stroke:#181818;stroke-width:1.0;" width="10" x="1476" y="175.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1757.5" y="648.8672"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1757.5" y="984.3828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1904.5" y="313"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2055.5" y="924.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2162" y="734.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2162" y="1044.7344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2162" y="1300.7891"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2287" y="373.7031"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2421.5" y="459.7578"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2421.5" y="1130.0859"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2421.5" y="1215.4375"/><polygon fill="#181818" points="967.5,110.9609,977.5,114.9609,967.5,118.9609,971.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="973.5" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="89.5" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="867" x="100.5" y="110.1045">I want to see the list of orders that need to be prepared by an AGV and ask/force any of those orders to be immediately prepared by an AGV available.</text><polygon fill="#181818" points="1304.5,141.3125,1314.5,145.3125,1304.5,149.3125,1308.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="989.5" x2="1310.5" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="996.5" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1007.5" y="140.4561">getOrdersToBePrepared()</text><polygon fill="#181818" points="1464,171.6641,1474,175.6641,1464,179.6641,1468,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="1470" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1333.5" y="170.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1344.5" y="170.8076">repositories()</text><rect height="71.6328" style="stroke:#000000;stroke-width:1.5;fill:none;" width="155" x="1408" y="183.6641"/><path d="M1408,183.6641 L1470,183.6641 L1470,191.6641 L1460,201.6641 L1408,201.6641 L1408,183.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1421" y="199.1592">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="1428.5" y="218.1211">OrderRepository_SD</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="1412" y="233.2148">WarehouseRepository_SD</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="1432.5" y="248.3086">AGVRepository_SD</text><polygon fill="#181818" points="1337.5,278.6484,1327.5,282.6484,1337.5,286.6484,1333.5,282.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1331.5" x2="1480" y1="282.6484" y2="282.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1343.5" y="277.792">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1354.5" y="277.792">Â </text><polygon fill="#181818" points="1892.5,309,1902.5,313,1892.5,317,1896.5,313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="1898.5" y1="313" y2="313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1333.5" y="308.1436">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1344.5" y="308.1436">findAllWarehouses()</text><polygon fill="#181818" points="1337.5,339.3516,1327.5,343.3516,1337.5,347.3516,1333.5,343.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1331.5" x2="1908.5" y1="343.3516" y2="343.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1343.5" y="338.4951">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="1354.5" y="338.4951">warehouse</text><polygon fill="#181818" points="2275,369.7031,2285,373.7031,2275,377.7031,2279,373.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="2281" y1="373.7031" y2="373.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1333.5" y="368.8467">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1344.5" y="368.8467">getOrders()</text><polygon fill="#181818" points="1337.5,400.0547,1327.5,404.0547,1337.5,408.0547,1333.5,404.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1331.5" x2="2291" y1="404.0547" y2="404.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1343.5" y="399.1982">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1354.5" y="399.1982">orderslist</text><path d="M1232,419.0547 L1305,419.0547 L1305,427.4063 L1295,437.4063 L1232,437.4063 L1232,419.0547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="1249" x="1232" y="419.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1247" y="433.5498">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162" x="1320" y="432.4736">[for each order on orderslist]</text><polygon fill="#181818" points="2409.5,455.7578,2419.5,459.7578,2409.5,463.7578,2413.5,459.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="2415.5" y1="459.7578" y2="459.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1333.5" y="454.9014">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1344.5" y="454.9014">toOrderDTO(order)</text><polygon fill="#181818" points="1337.5,486.1094,1327.5,490.1094,1337.5,494.1094,1333.5,490.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1331.5" x2="2425.5" y1="490.1094" y2="490.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1343.5" y="485.2529">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="1361.5" y="485.2529">orderDTO</text><polygon fill="#181818" points="1000.5,523.4609,990.5,527.4609,1000.5,531.4609,996.5,527.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="994.5" x2="1320.5" y1="527.4609" y2="527.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1006.5" y="522.6045">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="1024.5" y="522.6045">orderslistDTO</text><polygon fill="#181818" points="93.5,553.8125,83.5,557.8125,93.5,561.8125,89.5,557.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87.5" x2="983.5" y1="557.8125" y2="557.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="99.5" y="552.9561">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="117.5" y="552.9561">asks to select the needed data (The order)</text><polygon fill="#181818" points="967.5,584.1641,977.5,588.1641,967.5,592.1641,971.5,588.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="973.5" y1="588.1641" y2="588.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="89.5" y="583.3076">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="107.5" y="583.3076">select requested data</text><polygon fill="#181818" points="1304.5,614.5156,1314.5,618.5156,1304.5,622.5156,1308.5,618.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="989.5" x2="1310.5" y1="618.5156" y2="618.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="996.5" y="613.6592">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="1014.5" y="613.6592">getAllAGVAvailable(product_OrderDTOComplete)</text><polygon fill="#181818" points="1745.5,644.8672,1755.5,648.8672,1745.5,652.8672,1749.5,648.8672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="1751.5" y1="648.8672" y2="648.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1333.5" y="644.0107">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="1351.5" y="644.0107">findAbleAGVs(orderWeight, orderVolume)</text><polygon fill="#181818" points="1337.5,675.2188,1327.5,679.2188,1337.5,683.2188,1333.5,679.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1331.5" x2="1761.5" y1="679.2188" y2="679.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1343.5" y="674.3623">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1361.5" y="674.3623">agvlist</text><path d="M1232,694.2188 L1305,694.2188 L1305,702.5703 L1295,712.5703 L1232,712.5703 L1232,694.2188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="980" x="1232" y="694.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1247" y="708.7139">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="1320" y="707.6377">[for each agv on agvlist]</text><polygon fill="#181818" points="2150,730.9219,2160,734.9219,2150,738.9219,2154,734.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="2156" y1="734.9219" y2="734.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1333.5" y="730.0654">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1351.5" y="730.0654">toDTOAGV(agv)</text><polygon fill="#181818" points="1337.5,761.2734,1327.5,765.2734,1337.5,769.2734,1333.5,765.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1331.5" x2="2166" y1="765.2734" y2="765.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1343.5" y="760.417">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1361.5" y="760.417">agvDTO</text><polygon fill="#181818" points="1000.5,798.625,990.5,802.625,1000.5,806.625,996.5,802.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="994.5" x2="1320.5" y1="802.625" y2="802.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1006.5" y="797.7686">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="1024.5" y="797.7686">agvlistDTO</text><polygon fill="#181818" points="93.5,828.9766,83.5,832.9766,93.5,836.9766,89.5,832.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87.5" x2="983.5" y1="832.9766" y2="832.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="99.5" y="828.1201">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="117.5" y="828.1201">asks to select the needed data (AGV)</text><polygon fill="#181818" points="967.5,859.3281,977.5,863.3281,967.5,867.3281,971.5,863.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="973.5" y1="863.3281" y2="863.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="89.5" y="858.4717">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="107.5" y="858.4717">select requested data</text><polygon fill="#181818" points="1304.5,889.6797,1314.5,893.6797,1304.5,897.6797,1308.5,893.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="989.5" x2="1310.5" y1="893.6797" y2="893.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="996.5" y="888.8232">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="1014.5" y="888.8232">assignOrder(product_OrderDTOComplete,agvDTO)</text><polygon fill="#181818" points="2043.5,920.0313,2053.5,924.0313,2043.5,928.0313,2047.5,924.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="2049.5" y1="924.0313" y2="924.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1333.5" y="919.1748">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="1351.5" y="919.1748">order =findOrderWithid(orderDTOComplete.id);</text><polygon fill="#181818" points="1745.5,980.3828,1755.5,984.3828,1745.5,988.3828,1749.5,984.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="1751.5" y1="984.3828" y2="984.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1333.5" y="979.5264">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="1351.5" y="979.5264">agv = findAGVWithid(agvDTO.id)</text><polygon fill="#181818" points="2150,1040.7344,2160,1044.7344,2150,1048.7344,2154,1044.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="2156" y1="1044.7344" y2="1044.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1333.5" y="1039.8779">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1351.5" y="1039.8779">occupyAGV()</text><polygon fill="#181818" points="2409.5,1126.0859,2419.5,1130.0859,2409.5,1134.0859,2413.5,1130.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="2415.5" y1="1130.0859" y2="1130.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1333.5" y="1125.2295">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1351.5" y="1125.2295">beingPrepared()</text><polygon fill="#181818" points="2409.5,1211.4375,2419.5,1215.4375,2409.5,1219.4375,2413.5,1215.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="2415.5" y1="1215.4375" y2="1215.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1333.5" y="1210.5811">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1351.5" y="1210.5811">readyForPacking()</text><polygon fill="#181818" points="2150,1296.7891,2160,1300.7891,2150,1304.7891,2154,1300.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326.5" x2="2156" y1="1300.7891" y2="1300.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1333.5" y="1295.9326">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1351.5" y="1295.9326">freeAGV()</text><polygon fill="#181818" points="88.5,1382.1406,78.5,1386.1406,88.5,1390.1406,84.5,1386.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="978.5" y1="1386.1406" y2="1386.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="94.5" y="1381.2842">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="112.5" y="1381.2842">informs operation success</text><!--MD5=[a2e022d2b84c1d9b1ad6e40fb97f1949]
@startuml
autonumber
'hide footbox
actor "Warehouse Employee" as WE

participant ":AssignOrderUI" as UI
participant ":AssignOrderController" as CTRL
participant ":PersistenceContext" as PC
participant ":RepositoryFactory" as RF
participant ":AGVRepository" as AR
participant ":WarehouseRepository" as WR
participant ":OrderRepository" as OR
participant "agv:AGV" as A
participant "warehouse:Warehouse" as W
participant "order:Order" as O

activate WE
WE -> UI: I want to see the list of orders that need to be prepared by an AGV and ask/force any of those orders to be immediately prepared by an AGV available.
activate UI
UI -> CTRL : getOrdersToBePrepared()
activate CTRL
CTRL -> PC : repositories()

activate PC
ref over PC
OrderRepository_SD
WarehouseRepository_SD
AGVRepository_SD
end ref
PC - -> CTRL
deactivate PC


CTRL -> WR : findAllWarehouses()
activate WR
WR - -> CTRL : warehouse
deactivate WR
CTRL -> W : getOrders()
activate W
W - -> CTRL : orderslist
deactivate W
loop for each order on orderslist
CTRL -> O : toOrderDTO(order)
activate O
O - -> CTRL :orderDTO
deactivate O
end
CTRL - -> UI :orderslistDTO

deactivate CTRL
UI - -> WE: asks to select the needed data (The order)
deactivate UI
WE -> UI: select requested data
activate UI

UI -> CTRL : getAllAGVAvailable(product_OrderDTOComplete)
activate CTRL
CTRL -> AR : findAbleAGVs(orderWeight, orderVolume)
activate AR
AR - -> CTRL : agvlist
deactivate AR

loop for each agv on agvlist
CTRL -> A : toDTOAGV(agv)
activate A
A - -> CTRL :agvDTO
deactivate A
end
CTRL - -> UI : agvlistDTO
deactivate CTRL
UI - -> WE: asks to select the needed data (AGV)
deactivate UI
WE -> UI: select requested data
activate UI
UI -> CTRL : assignOrder(product_OrderDTOComplete,agvDTO)
activate CTRL

CTRL ->  OR : order =findOrderWithid(orderDTOComplete.id);
activate OR
deactivate OR
CTRL -> AR :  agv = findAGVWithid(agvDTO.id)
activate AR
deactivate AR

CTRL -> A: occupyAGV()
activate A
|||
deactivate A

CTRL -> O: beingPrepared()
activate O
|||
deactivate O

CTRL -> O: readyForPacking()
activate O
|||
deactivate O

CTRL -> A: freeAGV()
activate A
|||
deactivate A
deactivate CTRL
UI - -> WE: informs operation success






deactivate WE
@enduml

@startuml
autonumber
actor "Warehouse Employee" as WE

participant ":AssignOrderUI" as UI
participant ":AssignOrderController" as CTRL
participant ":PersistenceContext" as PC
participant ":RepositoryFactory" as RF
participant ":AGVRepository" as AR
participant ":WarehouseRepository" as WR
participant ":OrderRepository" as OR
participant "agv:AGV" as A
participant "warehouse:Warehouse" as W
participant "order:Order" as O

activate WE
WE -> UI: I want to see the list of orders that need to be prepared by an AGV and ask/force any of those orders to be immediately prepared by an AGV available.
activate UI
UI -> CTRL : getOrdersToBePrepared()
activate CTRL
CTRL -> PC : repositories()

activate PC
ref over PC
OrderRepository_SD
WarehouseRepository_SD
AGVRepository_SD
end ref
PC - -> CTRL
deactivate PC


CTRL -> WR : findAllWarehouses()
activate WR
WR - -> CTRL : warehouse
deactivate WR
CTRL -> W : getOrders()
activate W
W - -> CTRL : orderslist
deactivate W
loop for each order on orderslist
CTRL -> O : toOrderDTO(order)
activate O
O - -> CTRL :orderDTO
deactivate O
end
CTRL - -> UI :orderslistDTO

deactivate CTRL
UI - -> WE: asks to select the needed data (The order)
deactivate UI
WE -> UI: select requested data
activate UI

UI -> CTRL : getAllAGVAvailable(product_OrderDTOComplete)
activate CTRL
CTRL -> AR : findAbleAGVs(orderWeight, orderVolume)
activate AR
AR - -> CTRL : agvlist
deactivate AR

loop for each agv on agvlist
CTRL -> A : toDTOAGV(agv)
activate A
A - -> CTRL :agvDTO
deactivate A
end
CTRL - -> UI : agvlistDTO
deactivate CTRL
UI - -> WE: asks to select the needed data (AGV)
deactivate UI
WE -> UI: select requested data
activate UI
UI -> CTRL : assignOrder(product_OrderDTOComplete,agvDTO)
activate CTRL

CTRL ->  OR : order =findOrderWithid(orderDTOComplete.id);
activate OR
deactivate OR
CTRL -> AR :  agv = findAGVWithid(agvDTO.id)
activate AR
deactivate AR

CTRL -> A: occupyAGV()
activate A
|||
deactivate A

CTRL -> O: beingPrepared()
activate O
|||
deactivate O

CTRL -> O: readyForPacking()
activate O
|||
deactivate O

CTRL -> A: freeAGV()
activate A
|||
deactivate A
deactivate CTRL
UI - -> WE: informs operation success






deactivate WE
@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>