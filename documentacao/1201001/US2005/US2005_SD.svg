<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="615px" preserveAspectRatio="none" style="width:768px;height:615px;background:#FFFFFF;" version="1.1" viewBox="0 0 768 615" width="768px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="477.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="49.5" y="65.2188"/><rect fill="#FFFFFF" height="60.4453" style="stroke:#181818;stroke-width:1.0;" width="10" x="164" y="208.2734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="301.5" y="299.0703"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="462" y="87.5703"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="462" y="147.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="616" y="513.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="712" y="384.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="712" y="445.4766"/><rect height="139.7578" style="stroke:#000000;stroke-width:1.5;fill:none;" width="752" x="10" y="344.0703"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="54" x2="54" y1="55.2188" y2="561.1797"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="169" x2="169" y1="55.2188" y2="561.1797"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="306" x2="306" y1="55.2188" y2="561.1797"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="467" x2="467" y1="55.2188" y2="561.1797"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="621" x2="621" y1="55.2188" y2="561.1797"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="717" x2="717" y1="55.2188" y2="561.1797"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55" x="27" y="26.5332">«server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="36.5" y="44.1426">HTTP</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="20" y="560.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55" x="27" y="581.7129">«server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="36.5" y="599.3223">HTTP</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="99" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="106" y="44.1426">:PersistenceContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="99" y="560.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="106" y="581.7129">:PersistenceContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="249" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="256" y="44.1426">:AGVRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="249" y="560.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="256" y="581.7129">:AGVRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="374" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="381" y="44.1426">serverSocket:ServerSocket</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="374" y="560.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="381" y="581.7129">serverSocket:ServerSocket</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="570" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="577" y="44.1426">socket:Socket</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="570" y="560.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="577" y="581.7129">socket:Socket</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="682" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="689" y="44.1426">agv:AGV</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="682" y="560.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="689" y="581.7129">agv:AGV</text><rect fill="#FFFFFF" height="477.9609" style="stroke:#181818;stroke-width:1.0;" width="10" x="49.5" y="65.2188"/><rect fill="#FFFFFF" height="60.4453" style="stroke:#181818;stroke-width:1.0;" width="10" x="164" y="208.2734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="301.5" y="299.0703"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="462" y="87.5703"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="462" y="147.9219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="616" y="513.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="712" y="384.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="712" y="445.4766"/><polygon fill="#181818" points="450,83.5703,460,87.5703,450,91.5703,454,87.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59.5" x2="456" y1="87.5703" y2="87.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="66.5" y="82.7139">serverSocket = create()</text><polygon fill="#181818" points="450,143.9219,460,147.9219,450,151.9219,454,147.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59.5" x2="456" y1="147.9219" y2="147.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="66.5" y="143.0654">socket = accept()</text><polygon fill="#181818" points="152,204.2734,162,208.2734,152,212.2734,156,208.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59.5" x2="158" y1="208.2734" y2="208.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="66.5" y="203.417">repositories()</text><rect height="41.4453" style="stroke:#000000;stroke-width:1.5;fill:none;" width="146" x="96" y="216.2734"/><path d="M96,216.2734 L158,216.2734 L158,224.2734 L148,234.2734 L96,234.2734 L96,216.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="109" y="231.7686">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="116" y="250.7305">AGVRepository_SD</text><polygon fill="#181818" points="70.5,264.7188,60.5,268.7188,70.5,272.7188,66.5,268.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="64.5" x2="168" y1="268.7188" y2="268.7188"/><polygon fill="#181818" points="289.5,295.0703,299.5,299.0703,289.5,303.0703,293.5,299.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59.5" x2="295.5" y1="299.0703" y2="299.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="66.5" y="294.2139">agvlist = findAllAGV()</text><path d="M10,344.0703 L83,344.0703 L83,352.4219 L73,362.4219 L10,362.4219 L10,344.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="139.7578" style="stroke:#000000;stroke-width:1.5;" width="752" x="10" y="344.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="358.5654">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92" x="98" y="357.4893">[for each agvlist]</text><polygon fill="#181818" points="700,380.7734,710,384.7734,700,388.7734,704,384.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59.5" x2="706" y1="384.7734" y2="384.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="66.5" y="379.917">identification()</text><polygon fill="#181818" points="70.5,411.125,60.5,415.125,70.5,419.125,66.5,415.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="64.5" x2="716" y1="415.125" y2="415.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="76.5" y="410.2686">identification</text><polygon fill="#181818" points="700,441.4766,710,445.4766,700,449.4766,704,445.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59.5" x2="706" y1="445.4766" y2="445.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="66.5" y="440.6201">currentTask()</text><polygon fill="#181818" points="70.5,471.8281,60.5,475.8281,70.5,479.8281,66.5,475.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="64.5" x2="716" y1="475.8281" y2="475.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="76.5" y="470.9717">currentTask</text><polygon fill="#181818" points="604,509.1797,614,513.1797,604,517.1797,608,513.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59.5" x2="610" y1="513.1797" y2="513.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="66.5" y="508.3232">write(string)</text><!--MD5=[aa260892c46da89f97fe914fb9537f9a]
@startuml US2005_SD.svg

participant HTTP <<server>>
participant ":PersistenceContext" as PC
participant ":AGVRepository" as AR
participant "serverSocket:ServerSocket" as SSC
participant "socket:Socket" as SC
participant "agv:AGV" as A


activate HTTP
HTTP -> SSC : serverSocket = create()
activate SSC
deactivate SSC

HTTP -> SSC : socket = accept()
activate SSC
deactivate SSC

HTTP -> PC : repositories()

activate PC
ref over PC
AGVRepository_SD
end ref
PC - -> HTTP
deactivate PC

HTTP -> AR : agvlist = findAllAGV()
activate AR
deactivate AR

loop for each agvlist
  HTTP -> A : identification()
  activate A
  A - -> HTTP : identification
  deactivate A

  HTTP -> A : currentTask()
  activate A
  A - -> HTTP : currentTask
  deactivate A
end

HTTP -> SC : write(string)
activate SC
deactivate SC

deactivate HTTP

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>