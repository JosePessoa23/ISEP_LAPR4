<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="652px" preserveAspectRatio="none" style="width:1851px;height:652px;background:#FFFFFF;" version="1.1" viewBox="0 0 1851 652" width="1851px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="459.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="39" y="92.6094"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="456" y="114.9609"/><rect fill="#FFFFFF" height="360.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="456" y="192.0156"/><rect fill="#FFFFFF" height="322.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="884" y="238.7188"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1319" y="285.4219"/><rect fill="#FFFFFF" height="90.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1469.5" y="345.7734"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1616.5" y="376.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1767" y="406.4766"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1767" y="491.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="44" x2="44" y1="82.6094" y2="570.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="461" x2="461" y1="82.6094" y2="570.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="889" x2="889" y1="82.6094" y2="570.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1323.5" x2="1323.5" y1="82.6094" y2="570.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1474.5" x2="1474.5" y1="82.6094" y2="570.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1621.5" x2="1621.5" y1="82.6094" y2="570.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1771.5" x2="1771.5" y1="82.6094" y2="570.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="5" y="79.5332">Sales Clerk</text><ellipse cx="44" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M44,21.5 L44,48.5 M31,29.5 L57,29.5 M44,48.5 L31,63.5 M44,48.5 L57,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="5" y="583.7129">Sales Clerk</text><ellipse cx="44" cy="595.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M44,603.2891 L44,630.2891 M31,611.2891 L57,611.2891 M44,630.2891 L31,645.2891 M44,630.2891 L57,645.2891 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="389" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="396" y="71.5332">:RegisterCustomerUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="389" y="569.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="396" y="590.7129">:RegisterCustomerUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="792" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="799" y="71.5332">:RegisterCustomerController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194" x="792" y="569.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="799" y="590.7129">:RegisterCustomerController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="1253.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1260.5" y="71.5332">customer: Customer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="1253.5" y="569.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1260.5" y="590.7129">customer: Customer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1404.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1411.5" y="71.5332">:PersistenceContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1404.5" y="569.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1411.5" y="590.7129">:PersistenceContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1554.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1561.5" y="71.5332">:RepositoryFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1554.5" y="569.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1561.5" y="590.7129">:RepositoryFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="1698.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1705.5" y="71.5332">:CustomerRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="1698.5" y="569.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1705.5" y="590.7129">:CustomerRepository</text><rect fill="#FFFFFF" height="459.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="39" y="92.6094"/><rect fill="#FFFFFF" height="46.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="456" y="114.9609"/><rect fill="#FFFFFF" height="360.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="456" y="192.0156"/><rect fill="#FFFFFF" height="322.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="884" y="238.7188"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1319" y="285.4219"/><rect fill="#FFFFFF" height="90.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1469.5" y="345.7734"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1616.5" y="376.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1767" y="406.4766"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1767" y="491.8281"/><polygon fill="#181818" points="444,110.9609,454,114.9609,444,118.9609,448,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49" x2="450" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="56" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="67" y="110.1045">asks to register a new customer</text><polygon fill="#181818" points="60,157.6641,50,161.6641,60,165.6641,56,161.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="460" y1="161.6641" y2="161.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="66" y="148.6318">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372" x="77" y="140.4561">requests data (firstName, lastName, vatID, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="81" y="156.8076">gender, birthDate, billingAddress, deliveringAddress)</text><polygon fill="#181818" points="444,188.0156,454,192.0156,444,196.0156,448,192.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49" x2="450" y1="192.0156" y2="192.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="56" y="187.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="67" y="187.1592">types requested data</text><polygon fill="#181818" points="872,234.7188,882,238.7188,872,242.7188,876,238.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="466" x2="878" y1="238.7188" y2="238.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="473" y="225.6865">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388" x="484" y="217.5107">registerCustomer(firstName, lastName, vatID, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="488" y="233.8623">gender, birthDate, billingAddress, deliveringAddress)</text><polygon fill="#181818" points="1307,281.4219,1317,285.4219,1307,289.4219,1311,285.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894" x2="1313" y1="285.4219" y2="285.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="901" y="272.3896">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="912" y="264.2139">customer = create(firstName, lastName, vatID, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="916" y="280.5654">gender, birthDate, billingAddress, deliveringAddress)</text><polygon fill="#181818" points="1457.5,341.7734,1467.5,345.7734,1457.5,349.7734,1461.5,345.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894" x2="1463.5" y1="345.7734" y2="345.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="901" y="340.917">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="912" y="340.917">repositories()</text><polygon fill="#181818" points="1604.5,372.125,1614.5,376.125,1604.5,380.125,1608.5,376.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1479.5" x2="1610.5" y1="376.125" y2="376.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1486.5" y="371.2686">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1497.5" y="371.2686">create()</text><polygon fill="#181818" points="1755,402.4766,1765,406.4766,1755,410.4766,1759,406.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1626.5" x2="1761" y1="406.4766" y2="406.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1633.5" y="401.6201">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1644.5" y="401.6201">create()</text><polygon fill="#181818" points="1755,487.8281,1765,491.8281,1755,495.8281,1759,491.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="894" x2="1761" y1="491.8281" y2="491.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="901" y="486.9717">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="912" y="486.9717">save(customer)</text><polygon fill="#181818" points="55,548.1797,45,552.1797,55,556.1797,51,552.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="49" x2="460" y1="552.1797" y2="552.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="61" y="547.3232">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="79" y="547.3232">informs operation success</text><!--MD5=[43c2377013857f0731a5c0c1220647fe]
@startuml
'https://plantuml.com/sequence-diagram

autonumber
'hide footbox
actor "Sales Clerk" as SC
participant ":RegisterCustomerUI" as RCUI
participant ":RegisterCustomerController" as RCC
participant "customer: Customer" as C
participant ":PersistenceContext" as PC
participant ":RepositoryFactory" as RF
participant ":CustomerRepository" as CR


autonumber
activate SC
SC -> RCUI: asks to register a new customer
activate RCUI
RCUI - -> SC: requests data (firstName, lastName, vatID, email, phoneNumber,\n gender, birthDate, billingAddress, deliveringAddress)
deactivate RCUI


SC -> RCUI: types requested data
activate RCUI

RCUI -> RCC: registerCustomer(firstName, lastName, vatID, email, phoneNumber,\n gender, birthDate, billingAddress, deliveringAddress)

activate RCC
RCC -> C: customer = create(firstName, lastName, vatID, email, phoneNumber,\n gender, birthDate, billingAddress, deliveringAddress)
activate C
deactivate C
RCC -> PC : repositories()
activate PC
PC -> RF : create()
activate RF
RF -> CR : create()
activate CR
deactivate CR
deactivate RF
|||
deactivate PC

RCC -> CR: save(customer)
activate CR
deactivate CR

RCUI - -> SC: informs operation success
deactivate RCUI
deactivate SC

@enduml

@startuml

autonumber
actor "Sales Clerk" as SC
participant ":RegisterCustomerUI" as RCUI
participant ":RegisterCustomerController" as RCC
participant "customer: Customer" as C
participant ":PersistenceContext" as PC
participant ":RepositoryFactory" as RF
participant ":CustomerRepository" as CR


autonumber
activate SC
SC -> RCUI: asks to register a new customer
activate RCUI
RCUI - -> SC: requests data (firstName, lastName, vatID, email, phoneNumber,\n gender, birthDate, billingAddress, deliveringAddress)
deactivate RCUI


SC -> RCUI: types requested data
activate RCUI

RCUI -> RCC: registerCustomer(firstName, lastName, vatID, email, phoneNumber,\n gender, birthDate, billingAddress, deliveringAddress)

activate RCC
RCC -> C: customer = create(firstName, lastName, vatID, email, phoneNumber,\n gender, birthDate, billingAddress, deliveringAddress)
activate C
deactivate C
RCC -> PC : repositories()
activate PC
PC -> RF : create()
activate RF
RF -> CR : create()
activate CR
deactivate CR
deactivate RF
|||
deactivate PC

RCC -> CR: save(customer)
activate CR
deactivate CR

RCUI - -> SC: informs operation success
deactivate RCUI
deactivate SC

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>